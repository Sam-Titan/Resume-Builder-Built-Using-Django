{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume PDF</title>
    <link rel="stylesheet" href="{% static 'styles/resume_style.css' %}">
</head>
<body>
    <div class="resume-container">
        <!-- Header Section -->
        <header class="resume-header">
            <h1>{{ resume.name }}</h1>
            <p class="summary">{{ resume.summary }}</p>
            <div class="contact-info">
                <span>Email: {{ contact.email }}</span> | 
                <span>Phone: {{ contact.phone }}</span> | 
                {% if contact.linkedin %}<a href="{{ contact.linkedin }}" target="_blank">LinkedIn</a>{% endif %}
                {% if contact.github %} | <a href="{{ contact.github }}" target="_blank">GitHub</a>{% endif %}
            </div>
        </header>
    
        <!-- Main Content (Right Column in Mayank's resume but on left in our grid) -->
        <div class="resume-left">
            <!-- Work Experience Section -->
            <section class="resume-section">
                <h2>Work Experience</h2>
                {% for exp in experience %}
                <div class="resume-item">
                    <h3>{{ exp.role }}</h3>
                    <p><strong>{{ exp.company_name }}</strong> | <span class="dates">{{ exp.start_date }} - {{ exp.end_date|default:"Present" }}</span></p>
                    <p>{{ exp.description }}</p>
                </div>
                {% endfor %}
            </section>
    
            <!-- Projects Section -->
            <section class="resume-section">
                <h2>Projects</h2>
                {% for project in projects %}
                <div class="resume-item">
                    <h3>{{ project.title }}</h3>
                    <p>{{ project.description }}</p>
                    {% if project.url %}
                    <a href="{{ project.url }}" target="_blank">Project Link</a>
                    {% endif %}
                </div>
                {% endfor %}
            </section>
    
            <!-- Education Section -->
            <section class="resume-section">
                <h2>Education</h2>
                {% for edu in education %}
                <div class="resume-item">
                    <h3>{{ edu.degree }} in {{ edu.field_of_study }}</h3>
                    <p>{{ edu.school_name }} | <span class="dates">{{ edu.start_date }} - {{ edu.end_date|default:"Present" }}</span></p>
                </div>
                {% endfor %}
            </section>
        </div>
    
        <!-- Side Content (Left Column in Mayank's resume but on right in our grid) -->
        <div class="resume-right">
            <!-- Awards Section -->
            <section class="resume-section">
                <h2>Awards & Achievements</h2>
                <ul>
                    {% for award in awards %}
                    <li>{{ award.title }} {% if award.date_received %}- {{ award.date_received }}{% endif %}</li>
                    {% endfor %}
                </ul>
            </section>
    
            <!-- Skills Section -->
            <section class="resume-section">
                <h2>Skills</h2>
                
                <!-- Group skills by proficiency level like in Mayank's resume -->
                {% regroup skills by proficiency_level as skill_groups %}
                
                {% for group in skill_groups %}
                <h3>{{ group.grouper }}</h3>
                <ul>
                    {% for skill in group.list %}
                    <li>{{ skill.name }}</li>
                    {% endfor %}
                </ul>
                {% endfor %}
            </section>
    
            <!-- Certifications Section -->
            <section class="resume-section">
                <h2>Certifications</h2>
                <ul>
                    {% for cert in certifications %}
                    <li>{{ cert.title }} {% if cert.issuer %}({{ cert.issuer }}){% endif %} {% if cert.date_received %}- {{ cert.date_received }}{% endif %}</li>
                    {% endfor %}
                </ul>
            </section>
    
            <!-- Positions of Responsibility -->
            <section class="resume-section">
                <h2>Positions of Responsibility</h2>
                <ul>
                    {% for position in positions %}
                    <li><strong>{{ position.title }}</strong> - {{ position.organization }}</li>
                    {% endfor %}
                </ul>
            </section>
    
            <!-- Interests Section -->
            <section class="resume-section">
                <h2>Interests</h2>
                <ul class="interests-list">
                    {% for interest in interests %}
                    <li>{{ interest.name }}</li>
                    {% endfor %}
                </ul>
            </section>
        </div>
    </div>
</body>
</html>
